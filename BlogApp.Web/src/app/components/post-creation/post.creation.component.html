<section class="card">

    @if(!postSubmited){
        <h1 class="title">Post creation</h1>

        <form [formGroup]="postForm" (ngSubmit)="submit()">
            <div class="form-group">
                <label for="title">Title</label>
                <input type="text" id="title" placeholder="Post title..." formControlName="title">
            </div>
            <div class="form-group">
                <label for="picture">Post Image - .jpg, .jpeg or .png</label>
                <input type="file" id="file_selector" (change)="getFile($event)" accept=".jpg, .jpeg, .png" #fileUploader/>        
            </div>
            <div class="form-group">
                <label for="category">Category</label>
                <select id="category" formControlName="idCategory">
                    <option *ngFor="let category of categories" [ngValue]="category.id">{{category.name}}</option>
                </select>
            </div>
            <div class="form-group">
                <label>Content</label>
                <div class="NgxEditor__Wrapper">
                    <ngx-editor-menu [editor]="editor" [toolbar]="toolbar"></ngx-editor-menu>
                    <ngx-editor [editor]="editor" [placeholder]="'Very interesting post content...'" formControlName="content"></ngx-editor>
                </div>    
            </div>  
            <div class="form-group">
                <p>Be aware that all posts go through a review process before being officially published</p>
            </div>
            <div class="form-submit">
                <input class="btn" type="submit" value="Submit" [disabled]="!postForm.valid" [ngClass]="{'btn-blue': postForm.valid}">
            </div>
        </form>
    }
    @else{
        <div class="center">
            <h2>Your post was submitted and will be reviewed!</h2>
            <br>
            <h4>Redirecting to the main page</h4>
        </div>        
    }
    
</section>
